[gd_scene load_steps=4 format=4 uid="uid://c8bbq8f2ctmn"]

[ext_resource type="Shader" uid="uid://ctqmmjb0maaex" path="res://demo/light.gdshader" id="1_ewo7l"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pjvrk"]
shader = ExtResource("1_ewo7l")

[sub_resource type="ArrayMesh" id="ArrayMesh_ewo7l"]
_surfaces = [{
"aabb": AABB(-1005.37, -5391.21, 0, 18840.5, 13671.5, 1e-05),
"attribute_data": PackedByteArray("//8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAAAA//8AzAAAgD8AAIA///8AzAAAAAAAAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAAAAAM0AzAAAgD8AAIA/AM0AzAAAAAAAAIA/"),
"format": 34359738393,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 87,
"vertex_data": PackedByteArray("uCq5RQCA8sMAAAAAJj14RtaRqcQAAAAAN654RtnTZ8QAAAAAuCq5RQCA8sMAAAAAGCf1RSZ/DsQAAAAACafxRUz95MMAAAAAuCq5RQCA8sMAAAAA5NB4RkfDp8MAAAAAJj14RlhHwUMAAAAAFo4PRq5VGcMAAAAAqhPuRWJVgMQAAAAAi2XpRcY5W8QAAAAAFo4PRq5VGcMAAAAAi2XpRcY5W8QAAAAA0wEORmAzxUEAAAAAzgEORkVFxUEAAAAAYXTZRcAakcQAAAAAi9DYRTJ0isQAAAAAzgEORkVFxUEAAAAAi9DYRTJ0isQAAAAA/pMNRuf2k0IAAAAA/pMNRuf2k0IAAAAAi9DYRTJ0isQAAAAAhNDYReVzisQAAAAA/pMNRuf2k0IAAAAAhNDYReVzisQAAAAA+ZMNRmD7k0IAAAAA+ZMNRmD7k0IAAAAAhNDYReVzisQAAAAA/CXWRfdjjMQAAAAA+ZMNRmD7k0IAAAAA/CXWRfdjjMQAAAAAm10NRhfSxEIAAAAAll0NRpDWxEIAAAAAwCv1RWKkDsQAAAAAtqLxRSq45MMAAAAAll0NRpDWxEIAAAAAtqLxRSq45MMAAAAAQjIMRmvdaEMAAAAAQjIMRmvdaEMAAAAAANpqQw20kMUAAAAAABfyQkpQisUAAAAAQjIMRmvdaEMAAAAAABfyQkpQisUAAAAACGsKRtiq2kMAAAAAqhPuRWJVgMQAAAAATAdDRmD48EUAAAAATMJCRmCC8UUAAAAAqhPuRWJVgMQAAAAATMJCRmCC8UUAAAAAqYntRbxafMQAAAAAqYntRbxafMQAAAAAwCv1RWKkDsQAAAAAtqLxRRy45MMAAAAAqYntRbxafMQAAAAAtqLxRRy45MMAAAAAnwDqRWsSYMQAAAAAnwDqRWsSYMQAAAAAx/1ARmsL9UUAAAAAPbBARn+m9UUAAAAAnwDqRWsSYMQAAAAAPbBARn+m9UUAAAAAi2XpRcY5W8QAAAAAwCv1RWKkDsQAAAAAvSXWRSRkjMQAAAAAcJrQRbVrkMQAAAAAwCv1RWKkDsQAAAAAcJrQRbVrkMQAAAAA7NXzRcn1A8QAAAAA7NXzRcn1A8QAAAAAQL5pxLF5qMUAAAAA8Fd7xHtGpsUAAAAA7NXzRcn1A8QAAAAA8Fd7xHtGpsUAAAAAtqLxRSq45MMAAAAAwCv1RWKkDsQAAAAAWJNGRiw5/0UAAAAA0s5ERhthAUYAAAAAwCv1RWKkDsQAAAAA0s5ERhthAUYAAAAAtqLxRRy45MMAAAAAGCf1RSZ/DsQAAAAANFaLRv8SfcQAAAAAhoeKRpNAmsMAAAAAGCf1RSZ/DsQAAAAAhoeKRpNAmsMAAAAACafxRUz95MMAAAAA")
}]

[node name="World" type="Node2D"]

[node name="LightEnvironment2D" type="LightEnvironment2D" parent="."]
displayBVH2D = false
displayAABB = false
displayPoints = false
displayMidpoints = false
displayRays = false
displayLightColor = true
max_actions = 1000
displayRadialSections = false
radialRaySpread = 10.0
radialSectionTolerance = 0.1
displayLinearSections = false
linearRaySpread = 0.01
linearSectionTolerance = 0.1
displayScatterSections = false
scatterRaySpread = 0.001
scatterSectionTolerance = 0.1
material = SubResource("ShaderMaterial_pjvrk")
position = Vector2(329, 91)
scale = Vector2(1.02492, 1)
mesh = SubResource("ArrayMesh_ewo7l")

[node name="DebugEnvironment" type="Node2D" parent="LightEnvironment2D"]

[node name="CircleLight2D" type="CircleLight2D" parent="LightEnvironment2D/DebugEnvironment"]
visible = false
position = Vector2(6598.56, -470)

[node name="Mirror2D2" type="Mirror2D" parent="LightEnvironment2D/DebugEnvironment"]
draw_debug = true
mirror_width = 351.0
position = Vector2(7592.79, -1001)
rotation = 0.785398

[node name="Mirror2D" type="Mirror2D" parent="LightEnvironment2D/DebugEnvironment"]
draw_debug = true
mirror_width = 1708.0
position = Vector2(5464.82, 2319)
rotation = 0.785398

[node name="BeamLight2D" type="BeamLight2D" parent="LightEnvironment2D/DebugEnvironment"]
light_width = 676.0
position = Vector2(9023.14, 142)
rotation = -2.6337

[node name="ColorFilter2D" type="ColorFilter2D" parent="LightEnvironment2D/DebugEnvironment"]
draw_debug = true
filter_width = 160.0
filter_color = Color(0, 0.807843, 0, 1)
position = Vector2(7788.9, -514)
rotation = 0.785398

[node name="SpotLight2D" type="SpotLight2D" parent="LightEnvironment2D/DebugEnvironment"]
arc = 10.0
position = Vector2(5925.34, -485)

[node name="P1" type="Polygon2D" parent="LightEnvironment2D/DebugEnvironment"]
position = Vector2(6788.82, -1563)
rotation = 1.77675
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="TestEnvironment" type="Node2D" parent="LightEnvironment2D"]
visible = false

[node name="P2" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(10215.4, 2664)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P3" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(9491.47, 119)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P4" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(3715.41, 4798)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P5" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(2375.79, -38)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P6" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(4886.24, -614)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P7" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(8498.22, 3137)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P8" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(4106.66, 658)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P9" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(2578.74, 3667)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P10" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(933.731, 1545)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P11" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(7387.89, 707)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)

[node name="P12" type="Polygon2D" parent="LightEnvironment2D/TestEnvironment"]
position = Vector2(5471.65, 3133)
polygon = PackedVector2Array(-238.905, -345.775, 415.234, -239.216, 422.234, 27.7839, -109.187, 274.599, -481.186, 17.6452)
